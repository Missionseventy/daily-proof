:root{
  --bg:#0f0f0f;
  --card:#151515;
  --text:#ededed;
  --muted:#a8a8a8;
  --line:#2a2a2a;
  --gold:#c9a24d;
  --danger:#d46a6a;
  --btn:#101010;
}

html[data-theme="day"]{
  --bg:#f4efe6;
  --card:#ffffff;
  --text:#141414;
  --muted:#5a5a5a;
  --line:#e4dccf;
  --btn:#ffffff;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

a{ color:var(--text); text-decoration:none; }
a:hover{ opacity:.85; }

.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 18px;
  border-bottom:1px solid var(--line);
  position:sticky;
  top:0;
  background: color-mix(in srgb, var(--bg) 92%, transparent);
  backdrop-filter: blur(6px);
  z-index:5;
}

.brand{
  font-weight:800;
  letter-spacing:.2px;
  font-size:18px;
}

.dot{
  color: var(--gold);
  margin-left:6px;
}

.nav{
  display:flex;
  gap:14px;
  align-items:center;
  flex-wrap:wrap;
}

.linklike{
  background:transparent;
  border:0;
  color:var(--text);
  cursor:pointer;
  font-size:14px;
  padding:0;
  font-weight:700;
}

.modePill{
  border:1px solid var(--line);
  background: var(--btn);
  color:var(--text);
  padding:8px 14px;
  border-radius:999px;
  cursor:pointer;
  font-weight:800;
  font-size:13px;
  letter-spacing:.2px;
  transition: transform .05s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.modePill:active{ transform: translateY(1px); }

html[data-theme="day"] .modePill{
  border-color: rgba(201,162,77,.75);
  background: color-mix(in srgb, var(--gold) 18%, var(--btn));
  box-shadow: 0 0 0 2px rgba(201,162,77,.18), 0 10px 30px rgba(201,162,77,.18);
}
html[data-theme="night"] .modePill{
  border-color: var(--line);
  background: var(--btn);
  box-shadow: none;
}

.container{
  max-width:980px;
  margin:0 auto;
  padding:18px;
}

/* NEW APP GRID */
.gridApp{
  display:grid;
  grid-template-columns: 1fr;
  gap:14px;
}

/* On desktop: Daily card left, Sessions card right */
@media (min-width: 980px){
  .gridApp{
    grid-template-columns: 1.35fr .65fr;
    align-items:start;
  }
}

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:16px;
  padding:18px;
}

.card h2{ margin:0 0 10px; font-size:18px; }

.sectionTitle{
  margin:0 0 6px;
  font-size:14px;
  letter-spacing:.2px;
  text-transform:none;
}

.label{
  display:block;
  color:var(--muted);
  margin:10px 0 6px;
  font-size:13px;
}

.input, .textarea{
  width:100%;
  background:var(--btn);
  color:var(--text);
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px 12px;
  outline:none;
}
.textarea{ resize:vertical; }

.row{
  display:flex;
  gap:10px;
  margin-top:12px;
  flex-wrap:wrap;
}

.btn{
  border:1px solid var(--line);
  background:var(--btn);
  color:var(--text);
  padding:10px 14px;
  border-radius:12px;
  cursor:pointer;
  font-weight:800;
}
.btn:hover{ opacity:.9; }

.primary{
  border-color: rgba(201,162,77,.65);
  background: color-mix(in srgb, var(--gold) 14%, var(--btn));
}
.danger{
  border-color: rgba(212,106,106,.55);
  background: rgba(212,106,106,.12);
}

.timer{
  font-variant-numeric: tabular-nums;
  font-weight:900;
  letter-spacing:1px;
  /* Mobile-first: big, but not overflowing */
  font-size: clamp(38px, 7vw, 54px);
  line-height: 1.05;
  margin: 6px 0 10px;
}

.divider{
  height:1px;
  background:var(--line);
  margin:14px 0;
}

.muted{
  color:var(--muted);
  font-size:13px;
}

.footer{
  color:var(--muted);
  font-size:12px;
  border-top:1px solid var(--line);
  padding:14px 18px;
  text-align:center;
}
.brandFooter{ font-weight:800; }

/* Focus pills */
.focusPills{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-top:10px;
}
.focusPill{
  border:1px solid var(--line);
  background: var(--btn);
  color:var(--text);
  padding:8px 12px;
  border-radius:999px;
  cursor:pointer;
  font-weight:800;
  font-size:13px;
}
.focusPill.active{
  border-color: rgba(201,162,77,.75);
  background: color-mix(in srgb, var(--gold) 18%, var(--btn));
}

/* Sessions list */
.sessions{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:10px;
}

.sessionItem{
  border:1px solid var(--line);
  border-radius:12px;
  padding:12px;
  background:var(--btn);
}

.sessionTop{
  display:flex;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}

.sessionTime{
  color:var(--muted);
  font-size:13px;
}

.sessionMinutes{
  font-weight:900;
}

.sessionText{
  margin-top:8px;
  white-space:pre-wrap;
}

.sessionFocus{
  margin-top:6px;
  color: var(--muted);
  font-size:12px;
}

/* Daily card polish */
.dailyTop{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
}

.dailyTitle{
  margin:0;
  font-size:18px;
}

.dailyMeta{
  margin:4px 0 0;
}

.sep{
  margin: 0 8px;
  opacity:.7;
}

.timerWrap{
  /* keep timer visually dominant */
}

.focusWrap, .entryWrap{
  /* spacing is already handled by divider */
}

/* Sessions card slightly calmer */
.sessionsCard h2{
  margin-bottom:6px;
}
/* --- Collapsible Panels (Option B) --- */
.collapse{
  display:none;
}
.collapse.show{
  display:block;
}

.collapsePanel{
  display:none;
}
.collapsePanel.show{
  display:block;
}

/* Focus header + small edit link */
.focusHeader{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.miniLink{
  background:transparent;
  border:0;
  color:var(--muted);
  cursor:pointer;
  font-weight:800;
  padding:0;
}
.miniLink:hover{ opacity:.85; }

/* Action bar */
.actionBar{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:6px;
}

/* Sessions panel header */
.sessionsHeader{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
}

/* Mobile-first behavior: sessions panel is hidden until opened */
#sessionsPanel{
  display:none;
}
#sessionsPanel.show{
  display:block;
}

/* Desktop behavior: always show sessions card */
@media (min-width: 980px){
  #sessionsPanel{
    display:block;
  }
  .sessionsHeader button{
    display:none; /* no close button on desktop */
  }
}
